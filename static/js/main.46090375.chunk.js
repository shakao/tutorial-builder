(this["webpackJsonptutorial-builder"]=this["webpackJsonptutorial-builder"]||[]).push([[0],{12:function(t,e,n){},15:function(t,e,n){},17:function(t,e,n){"use strict";n.r(e);var c=n(0),a=n.n(c),i=n(7),s=n.n(i),o=(n(12),n(3)),l=n(4),r=n(5);n(15);function u(t,e){var n="### @explicitHints true\n\n# ".concat(t,"\n\n");return e.forEach((function(t,e){var c=t.title,a=t.showHint,i=t.showDialog,s=t.headerContentMd,o=t.hintContentMd,l=t.visibleHint,r="".concat(c||"Step ".concat(e)," ").concat(a||i?"@showHint":""," ").concat(i?"@showDialog":"");c||(r="{".concat(r,"}")),n+="## ".concat(r,"\n\n"),n+="".concat(s,"\n\n"),l&&(n+="#### ~ tutorialhint\n".concat(o,"\n\n"))})),n}function d(t){var e=window.pxt.tutorial.parseTutorial(t),n=e.steps;return n.forEach((function(t){t.visibleHint=!!t.hintContentMd})),{title:e.title,steps:n}}function j(t){if(t)switch(t.language){case"blocks":case"typescript":case"spy":return"```".concat(t.language,"\n").concat(t.text,"\n```");default:return t.text}}function b(t){if(t){var e="markdown",n=t.trim(),c=/^```\s*(blocks|ts|typescript|spy)\s*([\s\S]+)\s*```/gim.exec(n);if(c)switch(n=c[2],c[1]){case"blocks":case"typescript":case"spy":e=c[1];break;case"ts":e="typescript";break;default:e="blocks"}return{language:e,text:n}}}var p=Object(o.a)({},d("\n# My Tutorial\n\n## Step 1 @showDialog\n\nWelcome to my tutorial! This is the first step and it is a dialog\n\n## Step 2\n\nLet's write some code! Click the hint if you need help.\n\n```blocks\nlet x = 2;\nlet y = 3;\nlet z = x + y;\n```\n\n## Step 3\n\nGreat work! Click the **Done** button to exit the tutorial.\n\n")),h=a.a.createContext({tutorial:p,setSteps:function(t){},updateStep:function(t,e){}}),O=n(2);function v(t){var e=t.index,n=t.className,a=t.title,i=t.headerContentMd,s=t.hintContentMd,o=t.showDialog,u=t.visibleHint,d=t.swapSteps,p=Object(c.useState)(a),v=Object(l.a)(p,2),x=v[0],f=v[1],m=Object(c.useState)(i),g=Object(l.a)(m,2),w=g[0],N=g[1],k=Object(c.useState)(s),C=Object(l.a)(k,2),y=C[0],S=C[1],M=Object(c.useState)(u),D=Object(l.a)(M,2),H=D[0],E=D[1],T=Object(c.useState)(o),B=Object(l.a)(T,2),V=B[0],L=B[1],J=Object(c.useRef)(null);Object(c.useEffect)((function(){return f(a)}),[a]),Object(c.useEffect)((function(){return N(i)}),[i]),Object(c.useEffect)((function(){return S(s)}),[s]),Object(c.useEffect)((function(){return E(u)}),[u]),Object(c.useEffect)((function(){return L(o)}),[o]);var q=function(t){f(t.target.value)},P=function(t){N(t.target.value)};function R(t,e){J.current=t,e.languages.typescript.typescriptDefaults.setDiagnosticsOptions({noSemanticValidation:!0,noSyntaxValidation:!0})}return Object(O.jsx)(h.Consumer,{children:function(t){var c=t.tutorial,a=t.setSteps,i=t.updateStep,o=b(y),l={title:x,headerContentMd:w,hintContentMd:y,showDialog:V,visibleHint:H};return Object(O.jsxs)("div",{className:"tutorial-step ".concat(n||""),children:[Object(O.jsxs)("div",{className:"tutorial-step-body",children:[Object(O.jsxs)("div",{className:"step-handle",children:[Object(O.jsx)("div",{className:"step-handle-top",children:Object(O.jsx)("i",{className:"ui icon chevron up",onClick:function(){return d(e,e-1)}})}),Object(O.jsx)("div",{className:"step-handle-bottom",children:Object(O.jsx)("i",{className:"ui icon chevron down",onClick:function(){return d(e,e+1)}})})]}),Object(O.jsxs)("div",{className:"step-content",draggable:!1,children:[Object(O.jsxs)("div",{className:"step-title",children:[Object(O.jsx)("input",{type:"text",value:x,placeholder:"Enter step title",onChange:q,onBlur:function(){return i(e,l)}}),Object(O.jsx)("span",{children:"Dialog"}),Object(O.jsx)("i",{className:"ui icon square outline ".concat(V?"check":""),onClick:function(){return i(e,{showDialog:!V,showHint:!V})}})]}),Object(O.jsx)("div",{className:"step-body",children:Object(O.jsx)("textarea",{rows:5,value:w,onChange:P,onBlur:function(){return i(e,l)}})}),Object(O.jsxs)("div",{className:"step-hint",children:[Object(O.jsxs)("div",{className:"hint-controls",children:[Object(O.jsxs)("div",{className:"hint-controls-left",children:[Object(O.jsx)("span",{children:"Has hint"}),Object(O.jsx)("i",{className:"ui icon square outline ".concat(H?"check":""),onClick:function(){return i(e,{visibleHint:!H})}})]}),H&&Object(O.jsxs)("div",{className:"hint-controls-right",children:[Object(O.jsx)("label",{children:"Language:"}),Object(O.jsxs)("select",{name:"language",value:null===o||void 0===o?void 0:o.language,onChange:function(t){i(e,{hintContentMd:j({text:(null===o||void 0===o?void 0:o.text)||"",language:t.target.value})})},children:[Object(O.jsx)("option",{value:"blocks",children:"Blocks"}),Object(O.jsx)("option",{value:"typescript",children:"JavaScript"}),Object(O.jsx)("option",{value:"spy",children:"Python"}),Object(O.jsx)("option",{value:"markdown",children:"Markdown"})]})]})]}),H&&Object(O.jsx)("div",{className:"hint-body",children:Object(O.jsx)(r.a,{defaultLanguage:"typescript",value:null===o||void 0===o?void 0:o.text,options:{minimap:{enabled:!1}},onMount:R,onChange:function(t){var n=b(s);i(e,{hintContentMd:j({text:t||"",language:(null===n||void 0===n?void 0:n.language)||"markdown"})})}})})]})]})]}),Object(O.jsxs)("div",{className:"tutorial-step-actions",children:[Object(O.jsx)("div",{className:"step-button",onClick:function(){c.steps.splice(e,1),a(c.steps)},children:Object(O.jsx)("i",{className:"ui icon trash can"})}),Object(O.jsx)("div",{className:"step-button",onClick:function(){c.steps.splice(e+1,0,{}),a(c.steps)},children:Object(O.jsx)("i",{className:"ui icon add circle"})})]})]})}})}var x=function(){var t=Object(c.useState)(p),e=Object(l.a)(t,2),n=e[0],a=e[1],i=n.title,s=n.steps,j=Object(c.useState)("steps"),b=Object(l.a)(j,2),x=b[0],f=b[1],m=Object(c.useState)(void 0),g=Object(l.a)(m,2),w=g[0],N=g[1],k=Object(c.useState)(i),C=Object(l.a)(k,2),y=C[0],S=C[1],M=Object(c.useRef)(null),D=function(t,e){w||(N({up:Math.max(t,e),down:Math.min(t,e)}),setTimeout((function(){var n=[s[e],s[t]];s[t]=n[0],s[e]=n[1],H(s),N(void 0)}),400))},H=function(t){a(Object(o.a)(Object(o.a)({},n),{},{steps:t}))},E={tutorial:n,setSteps:H,updateStep:function(t,e){var c=n.steps;c[t]=Object(o.a)(Object(o.a)({},c[t]),e),a(Object(o.a)(Object(o.a)({},n),{},{steps:c}))}};return Object(O.jsx)(h.Provider,{value:E,children:Object(O.jsxs)("div",{className:"app",children:[Object(O.jsxs)("div",{className:"header",children:[Object(O.jsx)("div",{className:"header-bar-left",children:Object(O.jsx)("input",{value:y,onChange:function(t){return S(t.target.value)},onBlur:function(){a(Object(o.a)(Object(o.a)({},n),{},{title:y}))}})}),Object(O.jsxs)("div",{className:"header-bar-right",children:[Object(O.jsxs)("div",{className:"header-button toggle-view",onClick:function(){if("steps"===x)f("markdown");else{var t=(null===M||void 0===M?void 0:M.current)?d(M.current.getValue()):n;H(t.steps),f("steps")}},children:[Object(O.jsx)("i",{className:"ui icon ".concat("steps"===x?"code":"list ol")}),Object(O.jsx)("span",{children:"View ".concat("steps"===x?"Markdown":"Tutorial")})]}),Object(O.jsx)("div",{className:"header-button",onClick:function(){var t=u(i,s);navigator.clipboard?navigator.clipboard.writeText(t).then((function(){console.log("Copied to clipboard.")}),(function(t){console.log("Failed to copy markdown.",t)})):window.clipboardData&&window.clipboardData.setData("Text",t)},children:Object(O.jsx)("i",{className:"ui icon copy"})})]})]}),Object(O.jsxs)("div",{className:"container",children:["steps"===x&&Object(O.jsx)("div",{className:"tutorial-step-container",children:s.map((function(t,e){var n=t,c=n.title,a=n.headerContentMd,i=n.hintContentMd,s=n.showDialog,o=n.visibleHint;return Object(O.jsx)(v,{index:e,className:(null===w||void 0===w?void 0:w.up)===e?"animating up":(null===w||void 0===w?void 0:w.down)===e?"animating down":"",title:c||"",headerContentMd:a||"",hintContentMd:i||"",showDialog:s,visibleHint:o,swapSteps:D},"step_".concat(e))}))}),"markdown"===x&&Object(O.jsx)("div",{className:"tutorial-markdown",children:Object(O.jsx)(r.a,{defaultLanguage:"markdown",defaultValue:u(i,s),onMount:function(t,e){M.current=t}})})]})]})})};s.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(x,{})}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.46090375.chunk.js.map